
{/* import-start */}
import { SH, STitle, SImage, SCodeBlock, SCodeBlockTab, SCallout, SCalloutHeader, SCalloutContent,  STable, STableRow, STableHeader, STableCell, SVideo } from "listen-test-ui";
  
{/* import-end */}
   
<STitle>
Untitled
</STitle>

<SCodeBlockTab>

<SCodeBlock language="plain text" focus="" filename="Universal" tabid="0">

```plain text
 العمل ، والأعمال التجارية ، والحكومة 
```
</SCodeBlock>

</SCodeBlockTab>

<SCodeBlock language="plain text" focus="" filename="" tabid="0">

```plain text
{
  "name": "new-site-name",
  "version": "1.0.0",
  "description": "Example package.json"
}
```
</SCodeBlock>

<SH level="1" id="h-function-reportbuildstatus">
Function: report_build_status
</SH>


This function is used to report the build status of a project to a specified URL. It takes several parameters: <code>url</code>, <code>code</code>, <code>msg</code>, <code>workspace</code>, <code>site</code>, <code>api_id</code>, and <code>sign</code>.

<SH level="2" id="h-parameters">
Parameters:
</SH>


* <code>url</code>: The URL to which the build status will be reported.
* <code>code</code>: The status code of the build. This can be any integer value.
* <code>msg</code>: A message describing the build status.
* <code>workspace</code>: The workspace identifier.
* <code>site</code>: The site identifier.
* <code>api_id</code>: The API identifier.
* <code>sign</code>: The signature.

<SH level="2" id="h-example-usage">
Example usage:
</SH>


<SCodeBlock language="plain text" focus="" filename="" tabid="0">

```plain text
report_build_status("https://example.com/report", 200, "Build successful", "workspace1", "site1", "api123", "signature123");
```
</SCodeBlock>

<SH level="1" id="h-main-function">
Main function
</SH>


This is the main function that performs the build process. It takes command line arguments and performs various build tasks.

<SH level="2" id="h-command-line-arguments">
Command line arguments:
</SH>


The function expects the following command line arguments:

* <code>-w</code> or <code>--workspace</code>: The workspace identifier.
* <code>-s</code> or <code>--site</code>: The site identifier.
* <code>-c</code> or <code>--callback-url</code>: The URL to which the build status will be reported.
* <code>-e</code> or <code>--signature</code>: The signature.
* <code>-d</code> or <code>--download-url</code>: The URL from which the template will be downloaded.
* <code>-m</code> or <code>--mount-dir</code>: The directory where the template will be mounted.

<SH level="2" id="h-example-usage--1">
Example usage:
</SH>


<SCodeBlock language="plain text" focus="" filename="" tabid="0">

```plain text
node build.js -w workspace1 -s site1 -c https://example.com/callback -e signature123 -d https://example.com/template.tar.gz -m /mnt/templates
```
</SCodeBlock>

<SH level="1" id="h-exception-handling">
Exception handling
</SH>


This code block handles any exceptions that occur during the build process. If an exception is caught, it reports the error status to the specified callback URL.

<SH level="2" id="h-example-usage--2">
Example usage:
</SH>


<SCodeBlock language="plain text" focus="" filename="" tabid="0">

```plain text
try {
    // Build process
} catch (e) {
    report_build_status(callback_url, 500, e.message, i_ws, site, "", signature);
    process.exit(2);
}
```
</SCodeBlock>

Note: This documentation assumes that the necessary dependencies and libraries are already installed and `import`ed.
